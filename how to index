รายละเอียดเพิ่มเติม
dotenv (require("dotenv").config();)

ใช้สำหรับโหลดตัวแปรแวดล้อมจากไฟล์ .env เข้าไปใน process.env
ตัวแปรแวดล้อมช่วยให้เราสามารถตั้งค่าค่าต่างๆ ได้โดยไม่ต้องแก้ไขโค้ดโดยตรง เช่น พอร์ต, คีย์ API
ตัวอย่างไฟล์ .env ที่ใช้กับโค้ดนี้:
makefile
คัดลอก
แก้ไข
PORT=5000
ถ้าไฟล์ .env มีค่า PORT=5000 เซิร์ฟเวอร์จะรันที่ http://localhost:5000/
การนำเข้าและสร้าง Express (const express = require("express"); และ const app = express();)

Express เป็นเฟรมเวิร์กที่ช่วยให้การสร้างเซิร์ฟเวอร์ด้วย Node.js ง่ายขึ้น
express() สร้างอินสแตนซ์ของแอปพลิเคชัน Express ที่เราจะใช้กำหนดเส้นทาง (route) และควบคุมการทำงานของเซิร์ฟเวอร์
กำหนดค่าพอร์ต (const port = process.env.PORT || 3000;)

ถ้ามีตัวแปรแวดล้อม PORT จะใช้ค่าจากตัวแปรนั้น
ถ้าไม่มี จะใช้ค่าเริ่มต้นเป็น 3000
การกำหนด Route (app.get("/", (req, res) => {...});)

เส้นทาง / หมายถึงหน้าหลักของเว็บไซต์
ฟังก์ชัน callback (req, res) จะทำงานเมื่อมีการร้องขอ (HTTP request) มาที่ "/"
req (request) เป็นข้อมูลที่ผู้ใช้ส่งมาพร้อมกับคำร้องขอ
res (response) ใช้สำหรับส่งข้อมูลกลับไปยังผู้ใช้
res.send("Hello World!") จะส่งข้อความ "Hello World!" ไปยังเว็บเบราว์เซอร์ของผู้ใช้
การเริ่มเซิร์ฟเวอร์ (app.listen(port, () => {...});)

ใช้คำสั่ง app.listen(port, callback) เพื่อให้เซิร์ฟเวอร์เริ่มทำงานและรอรับคำร้องขอ
เมื่อเซิร์ฟเวอร์เริ่มทำงานสำเร็จ จะมีข้อความแสดงในคอนโซล เช่น
csharp
คัดลอก
แก้ไข
Server is listening on http://localhost:3000
วิธีรันโค้ด
ติดตั้ง Node.js ถ้ายังไม่ได้ติดตั้ง
ติดตั้ง Express และ dotenv โดยรันคำสั่งใน terminal:
คัดลอก
แก้ไข
npm install express dotenv
สร้างไฟล์ .env และกำหนดค่า:
makefile
คัดลอก
แก้ไข
PORT=5000
บันทึกโค้ดเป็นไฟล์ server.js
เปิด terminal และรันเซิร์ฟเวอร์ด้วยคำสั่ง:
คัดลอก
แก้ไข
node server.js
เปิดเว็บเบราว์เซอร์แล้วไปที่ http://localhost:5000/ (หรือพอร์ตที่กำหนด)
จะเห็นข้อความ "Hello World!" บนหน้าจอ